{% extends 'base.html' %}

{% block title %}Iniciar Sesi√≥n{% endblock %}

{% block content %}
<div class="container mt-5" style="max-width: 400px;">
  <h2 class="mb-4 text-center">üé∏ Iniciar sesi√≥n</h2>
  <form method="POST">
    <div class="form-group">
      <label for="username">Usuario:</label>
      <input type="text" class="form-control" id="username" name="username" required>
    </div>

    <div class="form-group">
      <label for="password">Contrase√±a:</label>
      <div class="input-group">
        <input type="password" class="form-control" id="password" name="password" required>
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button" id="togglePassword">
            <i class="fas fa-eye"></i>
          </button>
        </div>
      </div>
    </div>

    <button type="submit" class="btn btn-primary btn-block">Ingresar</button>

    {% if error %}
      <div class="alert alert-danger mt-3 text-center">{{ error }}</div>
    {% endif %}
  </form>
</div>

<script>
  document.getElementById('togglePassword').addEventListener('click', function () {
    const passwordInput = document.getElementById('password');
    const icon = this.querySelector('i');

    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      icon.classList.remove('fa-eye');
      icon.classList.add('fa-eye-slash');
    } else {
      passwordInput.type = 'password';
      icon.classList.remove('fa-eye-slash');
      icon.classList.add('fa-eye');
    }
  });
</script>
{% endblock %}
